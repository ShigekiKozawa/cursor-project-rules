# Vue.js フロントエンドルール仕様書

## 概要

このドキュメントは、Vue.jsフロントエンド開発における品質チェック・コードレビュールール（`frontend-rule.mdc`）の詳細仕様について説明します。

## 対象技術スタック

- **Vue.js**: Version 2 + Composition API
- **CSS**: SCSS（推奨）
- **言語**: TypeScript/JavaScript
- **UIライブラリ**: echoes UI（優先使用）

## ルール構成

### 1. コードの可読性と理解しやすさ（Code Readability and Understanding）

#### 1.1 命名規則
- **変数名・関数名・コンポーネント名**: 役割を正確に反映する命名
- **単数形・複数形**: 適切な使い分け（配列は複数形、単体は単数形）
- **動名詞の使用**: 処理を表す場合は動名詞を使用
- **Boolean値**: `is~` または `has~` プレフィックスを使用
- **複数形**: 配列やリストには `~s` サフィックスを使用

#### 1.2 命名の禁止事項
- **汎用的な名前の単独使用禁止**: `item`, `value`, `data`のみの使用を避ける
- **説明的な命名の推奨**: 具体的で意味のある名前を使用

#### 1.3 定数の使用
- **マジックナンバー禁止**: 数値（例: 100）を直接使用しない
- **マジックストリング禁止**: 文字列（例: 'hoge'）を直接使用しない
- **引数の明確化**: `(a, b)`のような不明確な引数名を避ける

### 2. コーディングスタイルとフォーマット（Coding Style and Formatting）

#### 2.1 スタイルガイド準拠
- **ESLint**: チームのESLint設定に従う
- **Prettier**: 自動フォーマット設定に従う
- **一貫性**: インデント、スペース、改行スタイルの統一

#### 2.2 多言語対応
- **日本語（ja）**: 言語ファイルの作成・編集必須
- **英語（en）**: 言語ファイルの作成・編集必須

#### 2.3 コード品質
- **デバッグコード除去**: `console.log`文の削除
- **無意味な空行除去**: 不要な空行の削除
- **デバッグコード除去**: テスト用コードの削除
- **スペルチェック**: タイポの確認と修正

### 3. Vueコンポーネント（Vue Component）

#### 3.1 命名規則
- **UpperCamelCase**: コンポーネント名は必ずUpperCamelCase
- **例**: `UserProfile`, `NavigationMenu`, `ProductCard`

#### 3.2 配置ルール
- **設計に従った配置**: デザインシステムに基づいた適切な配置

### 4. Vueテンプレート（Vue Template）

#### 4.1 アイコンと画像
- **SVGアイコン**: アイコンコンポーネントを使用
- **画像**: imageコンポーネントを使用

#### 4.2 UIコンポーネント
- **echoes UI優先**: echoes UIコンポーネントを優先的に使用

#### 4.3 ディレクティブ使用法
- **条件分岐**: `v-show`より`v-if`を優先
- **省略記法**: `v-bind`は`:`、`v-on`は`@`を使用
- **デフォルト属性**: デフォルト設定の属性は省略
- **空タグ**: 内容がない場合は空タグを使用

### 5. Vueスクリプト（Vue Script）

#### 5.1 API使用方針
- **Composition API**: 新規開発ではComposition APIを使用
- **defineComponent**: Composition API使用時は必須

#### 5.2 インポート順序
1. **ライブラリ**: 外部ライブラリのインポート
2. **定数・関数**: プロジェクト内の定数・関数
3. **コンポーネント**: Vueコンポーネント

#### 5.3 setup関数内の順序
1. **定数（Constants）**
2. **変数（Variables）**
3. **算出プロパティ（Computed properties）**
4. **ウォッチャー（Watchers）**: `watch`/`watchEffect`
5. **ライフサイクルフック**: `onMounted`, `onUnmounted`等
6. **メソッド定義（Method definitions）**
7. **return文（Return statement）**

#### 5.4 コンポーネント設定
- **name オプション**: 可能な限り省略
- **props設定**: 型指定と`default`または`required`の設定必須

#### 5.5 リアクティビティ
- **props監視**: 複数のprops値をローカル変数に代入する場合は`watchEffect`で統合
- **ref優先**: `reactive`より`ref`を優先使用
- **適切な使用**: `ref`, `computed`, `watch`の適切な使い分け

#### 5.6 コーディング規則
- **camelCase**: 変数名・関数名はcamelCaseを使用
- **空行制限**: オプションオブジェクト間に空行を挿入しない
- **ライフサイクル**: `onMounted`, `onUnmounted`等の正しい使用
- **エラーハンドリング**: 関数にエラーハンドリングを設定

### 6. Vue CSS（Vue CSS）

#### 6.1 言語設定
- **SCSS推奨**: 特別な理由がない限りSCSSを使用
- **scoped必須**: 特別な理由がない限りscopedスタイルを使用

#### 6.2 命名規則
- **kebab-case**: クラス名はkebab-caseを使用
- **BEM記法**: Block Element Modifier記法の活用
- **ネスト**: SCSSのネスト機能を活用

#### 6.3 変数使用
- **タイポグラフィ**: フォント関連は変数を使用
- **カラー**: 色設定は変数を使用

## チェック項目詳細

### 重要度レベル

#### 🚨 重大（Critical）
- defineComponentの未使用
- マジックナンバー・マジックストリングの使用
- エラーハンドリングの未実装

#### ⚠️ 警告（Warning）
- 命名規則違反
- コーディングスタイル不統一
- 不適切なディレクティブ使用

#### 💡 推奨（Recommendation）
- echoes UI未使用
- ref/reactive の選択
- BEM記法の未使用

## 自動チェック対象

### ファイル対象
- **拡張子**: `.vue`
- **対象範囲**: プロジェクト全体またはディレクトリ指定

### チェック内容
1. **構文チェック**: Vue.js構文の正確性
2. **スタイルチェック**: コーディング規約の遵守
3. **命名チェック**: 命名規則の確認
4. **インポートチェック**: インポート順序の確認
5. **テンプレートチェック**: ディレクティブ使用法の確認
6. **CSSチェック**: SCSS記法とBEM記法の確認

## 除外設定

### チェック対象外
- **サードパーティライブラリ**: `node_modules`配下
- **ビルドファイル**: `dist`, `build`配下
- **設定ファイル**: 設定専用ファイル

### 条件付き除外
- **レガシーコード**: 段階的移行中のコード
- **プロトタイプ**: 実験的なコード

## 運用ガイドライン

### 導入手順
1. **既存コードの現状把握**
2. **段階的な適用**
3. **チーム内での合意形成**
4. **継続的な改善**

### メンテナンス
- **定期的なルール見直し**
- **新機能への対応**
- **チームフィードバックの反映**

### トラブルシューティング
- **false positiveの対応**
- **パフォーマンス問題の解決**
- **ツール連携の調整**

---

**最終更新**: 2024年12月  
**対象バージョン**: Vue 2 + Composition API  
**メンテナー**: フロントエンド開発チーム 